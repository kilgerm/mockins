Mockins
========

Mockins ("mocking instructor") is a code-generator for mock and stub code.
It's aim is to assist you when writing unit tests for existing code.

## Mockins is suited for you...
...if you are familiar with the following problem:  
* you have (legacy) code without unit tests
* naive invocation of the method to test yields a NullPointer
* reason: some parameter or field may not be null, or may not return null when called
* but it is far from clear where to start with mocking/stubbing, since there are many dependencies
* so you best shot is to mock and stub by trial and error...

## Mockins is NOT suited for you...
* ...if you expect it to generate full unit tests (while it is theoretically possible to generate unit tests just having the mocks/stubs detected by Mockins, such tests would not have much value) 
* ...if you intend to use code generated by Mockins as it is, without extending it to a real unit test first
  
## Example:

``` java
// This is the class you would like to test
MyClass classUnderTest = new MyClass();

// first, create an "instructor" wrapper
MyClass instructor = Mockins.instructor(classUnderTest);

// then call whatever method you would like to test...
// (you can leave arguments null)
instructor.myMethod(null, null);
```

Mockins then runs testMethod and tries to add mocks/stubs 
for null-valued parameters and fields so that the method does not throw a NPE anymore.
If it succeeds, the necessary mocks will be output (to stderr) like this:

``` java
//============================================================================
// * Mockins result *
//============================================================================

// method call will succeed with the following mocks and stubbings:
SomeOtherClass param0 = Mockito.mock(SomeOtherClass.class);
Mockito.when(param0.getData()).thenReturn("");
Object param1 = null;
classUnderTest.myMethod(param0, param1);
```

## Mocking Frameworks

Mockins supports the following mocking frameworks:
* Mockito <http://mockito.googlecode.com> (version 1.8.0 or newer)
* EasyMock <http://easymock.org/> (version 3.0 or newer)

If exactly one of those frameworks is present in the (test) classpath, Mockins will use that one.

## Mockins API

* run Mockins for a certain method:
``` java
MyClass instructor = Mockins.instructor(classUnderTest);
instructor.myMethod(null, null);
```

* manually set the mocking framework:
``` java
Mockins.option().useMockito();
```
or
``` java
Mockins.option().useEasyMock();
```
## Requirements

* You need a Java 5+ JDK
* and one of the supported mocking frameworks on your (test) classpath